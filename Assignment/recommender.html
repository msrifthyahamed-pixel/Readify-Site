<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Readify â€” Book Recommender</title>
  
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
  
  <style>
    :root {
      --primary: #3b82f6;
      --dark: #111827;
      --gray: #6b7280;
      --light: #f9fafb;
      --bg-gradient: linear-gradient(135deg, #f0f7ff 0%, #e0f2fe 100%);
      --card-shadow: 0 10px 30px rgba(0,0,0,0.08);
      --accent: #8b5cf6;
    }

    * { margin:0; padding:0; box-sizing:border-box; }
    body {
      font-family: 'Inter', system-ui, sans-serif;
      background: var(--light);
      color: var(--dark);
      line-height: 1.6;
    }

    /* Navigation â”€â”€ same as previous pages */
    nav {
      background: white;
      box-shadow: 0 2px 10px rgba(0,0,0,0.08);
      position: sticky;
      top: 0;
      z-index: 100;
      padding: 1rem 5%;
    }

    .nav-container {
      max-width: 1400px;
      margin: 0 auto;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .logo {
      font-family: 'Playfair Display', serif;
      font-size: 2.1rem;
      color: var(--primary);
      font-weight: 700;
      display: flex;
      align-items: center;
      gap: 0.6rem;
    }

    .logo::before { content:"ðŸ“–"; font-size: 2.4rem; }

    .nav-links {
      display: flex;
      gap: 2.2rem;
      list-style: none;
    }

    .nav-links a {
      text-decoration: none;
      color: var(--dark);
      font-weight: 500;
      transition: color 0.2s;
    }

    .nav-links a:hover,
    .nav-links a.active { color: var(--primary); }

    .hamburger {
      display: none;
      flex-direction: column;
      gap: 5px;
      cursor: pointer;
    }

    .bar {
      width: 28px;
      height: 3px;
      background: var(--dark);
      transition: all 0.3s;
    }

    /* Header */
    .page-header {
      text-align: center;
      padding: 5rem 5% 3rem;
      background: var(--bg-gradient);
    }

    .page-header h1 {
      font-family: 'Playfair Display', serif;
      font-size: clamp(2.8rem, 7vw, 4.5rem);
      margin-bottom: 1rem;
    }

    .page-header p {
      color: var(--gray);
      font-size: 1.25rem;
      max-width: 680px;
      margin: 0 auto;
    }

    /* Recommender Section */
    .recommender-container {
      max-width: 800px;
      margin: 0 auto 5rem;
      padding: 0 5%;
    }

    .controls {
      display: flex;
      flex-wrap: wrap;
      gap: 1.2rem;
      justify-content: center;
      margin-bottom: 2.5rem;
    }

    select {
      padding: 1rem 1.5rem;
      border: 1px solid #d1d5db;
      border-radius: 12px;
      font-size: 1.05rem;
      min-width: 220px;
      background: white;
      cursor: pointer;
    }

    .btn {
      background: var(--primary);
      color: white;
      border: none;
      padding: 1rem 2.2rem;
      border-radius: 12px;
      font-size: 1.1rem;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.2s;
    }

    .btn:hover { background: #2563eb; transform: translateY(-1px); }

    .btn-again {
      background: var(--accent);
      margin-left: 1rem;
    }

    .btn-again:hover { background: #7c3aed; }

    .btn-save {
      background: #10b981;
      margin-top: 1.2rem;
    }

    .btn-save:hover { background: #059669; }

    /* Recommendation Card */
    .recommendation {
      background: white;
      border-radius: 20px;
      box-shadow: var(--card-shadow);
      padding: 2.5rem;
      text-align: center;
      min-height: 320px;
      display: flex;
      flex-direction: column;
      justify-content: center;
      gap: 1.5rem;
      margin-bottom: 3rem;
    }

    .book-cover-placeholder {
      width: 160px;
      height: 220px;
      margin: 0 auto;
      background: linear-gradient(135deg, #e0f2fe, #bfdbfe);
      border-radius: 16px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 5rem;
      color: var(--primary);
      box-shadow: 0 8px 20px rgba(59,130,246,0.2);
    }

    .book-title {
      font-family: 'Playfair Display', serif;
      font-size: 2.1rem;
      color: var(--dark);
    }

    .book-author {
      font-size: 1.3rem;
      color: var(--gray);
    }

    /* Reading List */
    .reading-list {
      max-width: 800px;
      margin: 0 auto;
      padding: 0 5%;
    }

    .reading-list h2 {
      font-family: 'Playfair Display', serif;
      font-size: 2.2rem;
      margin-bottom: 1.5rem;
      text-align: center;
    }

    .list-items {
      list-style: none;
      display: grid;
      gap: 1rem;
    }

    .list-item {
      background: white;
      padding: 1.2rem 1.6rem;
      border-radius: 12px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.06);
      font-size: 1.1rem;
    }

    .empty-list {
      text-align: center;
      color: var(--gray);
      font-style: italic;
      padding: 3rem 0;
    }

    /* Animation for Pick Again */
    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }

    .spin-once {
      animation: spin 0.8s ease-out;
    }

    /* Responsive */
    @media (max-width: 768px) {
      .nav-links { display: none; }
      .hamburger { display: flex; }
      .nav-links.active {
        display: flex;
        flex-direction: column;
        position: absolute;
        top: 100%;
        left: 0;
        right: 0;
        background: white;
        padding: 1.5rem;
        box-shadow: 0 4px 10px rgba(0,0,0,0.1);
      }
      .nav-links.active a { padding: 1rem 0; font-size: 1.15rem; }

      .controls { flex-direction: column; align-items: stretch; }
      select, .btn { width: 100%; }
    }
  </style>
</head>
<body>

  <!-- Navigation -->
  <nav>
    <div class="nav-container">
      <div class="logo">Readify</div>
      
      <ul class="nav-links">
        <li><a href="index.html">Home</a></li>
        <li><a href="books.html">Explore</a></li>
        <li><a href="tracker.html">Progress</a></li>
        <li><a href="recommender.html" class="active">Recommend</a></li>
        <li><a href="readingflow.html">Flow</a></li>
        <li><a href="feedback.html">Feedback</a></li>
      </ul>

      <div class="hamburger">
        <div class="bar"></div>
        <div class="bar"></div>
        <div class="bar"></div>
      </div>
    </div>
  </nav>

  <!-- Header -->
  <header class="page-header">
    <h1>Find Your Next Read</h1>
    <p>Let us surprise you with a perfect book match</p>
  </header>

  <!-- Recommender -->
  <section class="recommender-container">
    <div class="controls">
      <select id="genreSelect">
        <option value="">Any Genre</option>
        <option value="fiction">Fiction</option>
        <option value="fantasy">Fantasy</option>
        <option value="sci-fi">Sci-Fi</option>
        <option value="mystery">Mystery</option>
        <option value="non-fiction">Non-Fiction</option>
      </select>

      <select id="lengthSelect">
        <option value="">Any Length</option>
        <option value="short">Short (~100â€“250 pages)</option>
        <option value="medium">Medium (~250â€“500 pages)</option>
        <option value="long">Long (500+ pages)</option>
      </select>
    </div>

    <div style="text-align: center; margin: 2rem 0;">
      <button id="suggestBtn" class="btn">Suggest a Book</button>
    </div>

    <div class="recommendation" id="recommendationCard" style="display: none;">
      <div class="book-cover-placeholder">ðŸ“–</div>
      <div class="book-title" id="recTitle"></div>
      <div class="book-author" id="recAuthor"></div>
      <div>
        <button id="againBtn" class="btn btn-again">Pick Again</button>
        <button id="saveBtn" class="btn btn-save">Save to My List</button>
      </div>
    </div>
  </section>

  <!-- My Reading List -->
  <section class="reading-list">
    <h2>My Reading List</h2>
    <ul class="list-items" id="readingList"></ul>
    <div class="empty-list" id="emptyList">Your reading list is empty. Find a book above!</div>
  </section>
   
  <script src="books.js"></script>

  <script>
    // â”€â”€ Hamburger Menu â”€â”€
    const hamburger = document.querySelector('.hamburger');
    const navLinks = document.querySelector('.nav-links');
    hamburger.addEventListener('click', () => navLinks.classList.toggle('active'));

    // â”€â”€ Elements â”€â”€
    const genreSelect = document.getElementById('genreSelect');
    const lengthSelect = document.getElementById('lengthSelect');
    const suggestBtn = document.getElementById('suggestBtn');
    const againBtn = document.getElementById('againBtn');
    const saveBtn = document.getElementById('saveBtn');
    const card = document.getElementById('recommendationCard');
    const titleEl = document.getElementById('recTitle');
    const authorEl = document.getElementById('recAuthor');
    const listEl = document.getElementById('readingList');
    const emptyEl = document.getElementById('emptyList');

    let currentBook = null;

    // â”€â”€ Suggest random book â”€â”€
    function suggestBook() {
      const genre = genreSelect.value;
      const length = lengthSelect.value;

      const filtered = books.filter(b => {
        const matchGenre = !genre || b.genre === genre;
        const matchLength = !length || b.length === length;
        return matchGenre && matchLength;
      });

      if (filtered.length === 0) {
        alert("No books match your current filters. Try different options!");
        return;
      }

      currentBook = filtered[Math.floor(Math.random() * filtered.length)];

      titleEl.textContent = currentBook.title;
      authorEl.textContent = currentBook.author;
      card.style.display = 'block';

      // Spin animation on "Pick Again"
      againBtn.classList.remove('spin-once');
      void againBtn.offsetWidth; // trigger reflow
      againBtn.classList.add('spin-once');
    }

    // â”€â”€ Save to list â”€â”€
    function saveToList() {
      if (!currentBook) return;

      let list = JSON.parse(localStorage.getItem('readifyReadingList') || '[]');

      // Avoid duplicates
      if (!list.some(b => b.title === currentBook.title)) {
        list.push(currentBook);
        localStorage.setItem('readifyReadingList', JSON.stringify(list));
        renderList();
        alert(`"${currentBook.title}" added to your reading list!`);
      } else {
        alert(`"${currentBook.title}" is already in your list.`);
      }
    }

    // â”€â”€ Render reading list â”€â”€
    function renderList() {
      const list = JSON.parse(localStorage.getItem('readifyReadingList') || '[]');
      listEl.innerHTML = '';

      if (list.length === 0) {
        emptyEl.style.display = 'block';
        return;
      }

      emptyEl.style.display = 'none';

      list.forEach(book => {
        const li = document.createElement('li');
        li.className = 'list-item';
        li.textContent = `${book.title} â€” ${book.author}`;
        listEl.appendChild(li);
      });
    }

    // â”€â”€ Event listeners â”€â”€
    suggestBtn.addEventListener('click', suggestBook);
    againBtn.addEventListener('click', suggestBook);
    saveBtn.addEventListener('click', saveToList);

    // Load list on page load
    renderList();
  </script>
</body>
</html>